import{c}from"./bootstrap.js";function g(e){return document.querySelector(e)}function v(e){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function w(e,s){e&&e.classList.add(s)}function E(e,s){e&&e.classList.remove(s)}function h(e,s,t){if(!e)return null;if(t===void 0)return e.getAttribute(s);e.setAttribute(s,t)}function a(e,s="info"){m();const t=u(e,s);document.body.appendChild(t),setTimeout(()=>{t.classList.add("show")},10),setTimeout(()=>{i(t)},5e3)}function d(e){a(e,"success")}function n(e){a(e,"error")}function u(e,s){const t=document.createElement("div");t.className=`status-message status-message--${s}`;const r=c(s,16);t.innerHTML=`
    <div class="status-message__content">
      <span class="status-message__icon">${r}</span>
      <span class="status-message__text">${l(e)}</span>
      <button class="status-message__close" aria-label="閉じる">&times;</button>
    </div>
  `;const o=t.querySelector(".status-message__close");return o&&o.addEventListener("click",()=>{i(t)}),t}function l(e){const s=document.createElement("div");return s.textContent=e,s.innerHTML}function m(){document.querySelectorAll(".status-message").forEach(s=>{s.remove()})}function i(e){e.classList.add("hide"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}typeof window<"u"&&(window.showError=n,window.showSuccess=d);function p(){window.addEventListener("error",e=>{console.error("JavaScript Error:",e.error),n("アプリケーションエラーが発生しました。ページを再読み込みしてください。")}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason),n("通信エラーが発生しました。しばらく後に再試行してください。")})}export{g as $,h as a,n as b,d as c,E as d,w as e,p as i,v as r,a as s};
