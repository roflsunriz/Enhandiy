import{e as p,h as u}from"./errorHandling.js";function L(l,n,o,e){let t;switch(l){case"okcansel":t="OKCanselModal",v(t,n,o),e&&k(t,e),p(t);break;case"ok":t="OKModal",v(t,n,o),e&&k(t,e),p(t);break;default:console.error("Unknown modal type:",l)}}function w(){u("OKCanselModal"),u("OKModal")}function v(l,n,o){const e=document.getElementById(l);if(!e)return;const t=e.querySelector(".modal-title");t&&(t.innerHTML=y(n));const d=e.querySelector(".modal-body p");d&&(d.innerHTML=y(o))}function k(l,n){const o=document.getElementById(l);if(!o)return;const e=o.querySelector(".f-action");if(!e)return;const t=e.cloneNode(!0);e.parentNode?.replaceChild(t,e),typeof n=="function"?t.addEventListener("click",n):typeof n=="string"&&t.setAttribute("onclick",n)}function y(l){const n=document.createElement("div");return n.textContent=l,n.innerHTML}function q(l,n="お知らせ"){return new Promise(o=>{const e=document.getElementById("alertModal");if(!e){o();return}const t=e.querySelector("#alertModalLabel"),d=e.querySelector("#alertModalMessage");t&&(t.textContent=n),d&&(d.textContent=l);const s=e.querySelector('[data-bs-dismiss="modal"]'),r=()=>{s?.removeEventListener("click",r),o()};s?.addEventListener("click",r),p("alertModal")})}function C(l,n="確認"){return new Promise(o=>{const e=document.getElementById("confirmModal");if(!e){o(!1);return}const t=e.querySelector("#confirmModalLabel"),d=e.querySelector("#confirmModalMessage"),s=e.querySelector("#confirmModalOk"),r=e.querySelector("#confirmModalCancel");t&&(t.textContent=n),d&&(d.textContent=l);const i=()=>{c(),u("confirmModal"),o(!0)},a=()=>{c(),u("confirmModal"),o(!1)},c=()=>{s?.removeEventListener("click",i),r?.removeEventListener("click",a),e.removeEventListener("hidden.bs.modal",a)};s?.addEventListener("click",i),r?.addEventListener("click",a),e.addEventListener("hidden.bs.modal",a,{once:!0}),p("confirmModal")})}function S(l,n="",o="入力"){return new Promise(e=>{const t=document.getElementById("promptModal");if(!t){e(null);return}const d=t.querySelector("#promptModalLabel"),s=t.querySelector("#promptModalMessage"),r=t.querySelector("#promptModalInput"),i=t.querySelector("#promptModalOk"),a=t.querySelector("#promptModalCancel");d&&(d.textContent=o),s&&(s.textContent=l),r&&(r.value=n,t.addEventListener("shown.bs.modal",()=>{r.focus(),r.select()},{once:!0}));const c=()=>{const M=r?.value?.trim()||"";f(),u("promptModal"),e(M||null)},m=()=>{f(),u("promptModal"),e(null)},E=M=>{M.key==="Enter"&&(M.preventDefault(),c())},f=()=>{i?.removeEventListener("click",c),a?.removeEventListener("click",m),r?.removeEventListener("keypress",E),t.removeEventListener("hidden.bs.modal",m)};i?.addEventListener("click",c),a?.addEventListener("click",m),r?.addEventListener("keypress",E),t.addEventListener("hidden.bs.modal",m,{once:!0}),p("promptModal")})}function b(l,n="パスワード入力"){return new Promise(o=>{const e=document.getElementById("passwordModal");if(!e){o(null);return}const t=e.querySelector("#passwordModalLabel"),d=e.querySelector("#passwordModalMessage"),s=e.querySelector("#passwordModalInput"),r=e.querySelector("#passwordModalOk"),i=e.querySelector("#passwordModalCancel");t&&(t.textContent=n),d&&(d.textContent=l),s&&(s.value="",e.addEventListener("shown.bs.modal",()=>{s.focus()},{once:!0}));const a=()=>{const f=s?.value||"";E(),u("passwordModal"),o(f||null)},c=()=>{E(),u("passwordModal"),o(null)},m=f=>{f.key==="Enter"&&(f.preventDefault(),a())},E=()=>{r?.removeEventListener("click",a),i?.removeEventListener("click",c),s?.removeEventListener("keypress",m),e.removeEventListener("hidden.bs.modal",c)};r?.addEventListener("click",a),i?.addEventListener("click",c),s?.addEventListener("keypress",m),e.addEventListener("hidden.bs.modal",c,{once:!0}),p("passwordModal")})}typeof window<"u"&&(window.openModal=L,window.closeModal=w);export{q as a,C as b,S as c,b as s};
