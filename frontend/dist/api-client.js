import{a as n,p as i,b as d,d as o,g as p}from"./http.js";class l{static async getFiles(e){const a=e?`?folder_id=${encodeURIComponent(e)}`:"";return n(`/api/simple-files.php${a}`)}static async downloadFile(e){const a=document.createElement("a");a.href=`/api/download.php?id=${encodeURIComponent(e)}`,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}static async deleteFile(e){return i("/api/verifydelete.php",{id:e})}static async deleteFileWithAuth(e,a,t){return i("/api/verifydelete.php",{id:e,key:a||t||""})}static async bulkDeleteFiles(e,a){const t=new FormData;return e.forEach(s=>t.append("file_ids[]",s)),t.append("master_key",a),t.append("csrf_token",p()),i("/api/bulk-delete.php",t)}static async updateComment(e,a){return i("/api/edit-comment.php",{file_id:e,comment:a})}static async replaceFile(e,a){const t=new FormData;return t.append("file_id",e),t.append("files[]",a),i("/api/replace-file.php",t)}static async moveFile(e,a){return i("/api/move-file.php",{file_id:e,folder_id:a})}static async moveFiles(e,a){return i("/api/move-files.php",{file_ids:e,folder_id:a})}}class f{static async getFolders(){return n("/api/folders.php")}static async createFolder(e,a){return i("/api/folders.php",{action:"create",name:e,parent_id:a||null})}static async updateFolder(e,a){return d("/api/folders.php",{action:"update",id:e,name:a})}static async deleteFolder(e){return o(`/api/folders.php?id=${encodeURIComponent(e)}`)}static async getFolderFileCount(e){return n(`/api/folders.php?id=${encodeURIComponent(e)}&check=true`)}static async moveFolder(e,a){return i("/api/folders.php",{action:"move",id:e,new_parent_id:a})}}class u{static async verifyDownload(e,a=""){const t=new FormData;t.append("id",e),a&&t.append("key",a),t.append("csrf_token",p());const s=await i("/api/verifydownload.php",t);return s.status==="success"?{success:!0,data:s.data,message:s.message}:{success:!1,error:s.error_code||s.message}}static async verifyDelete(e,a=""){const t=new FormData;t.append("id",e),a&&t.append("key",a),t.append("csrf_token",p());const s=await i("/api/verifydelete.php",t);return s.status==="success"?{success:!0,data:s.data,message:s.message}:{success:!1,error:s.error_code||s.message}}static async verify(e,a){return i(a==="download"?"/api/verifydownload.php":"/api/verifydelete.php",{key:e})}}export{u as A,l as F,f as a};
