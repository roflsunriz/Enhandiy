# 重要な変更点（バージョン別）

本ドキュメントは README に記載していたバージョン別の重要な変更点をまとめたものです。

## Ver.4.0.0 の重要な変更

- 大規模なフォルダー構造の整理: フォルダー構造を整理し、フォルダーの管理が容易に
- API の呼び出し箇所変更: フォルダー構造整理に伴い URL 構造が整理（公式エンドポイントは変更なし）
- v4.0.4 で v1.x からの自動マイグレーション機能を実装。v1.x から特別な操作なくアップグレード可能（既存ファイルはダウンロードキーが無効化されダウンロード可能に、削除はマスターキーのみの対応）
- v4.x.xでArgon2IDからBCRYPTに変更。既存のキーは認証失敗するため、データベースとdataを削除して再設定してください。

## Ver.3.3.0 の重要な変更

- 差し替えキーのパスワード強度チェック: アップロード時の差し替えキー設定に強度チェックを追加
- 適切な強度チェック適用: ファイル編集モーダルでの認証時は強度チェックを除外し、新規設定時のみ適用
- セキュリティ向上: 弱い差し替えキーの設定を防止

## Ver.3.2.0 の重要な変更

- ファイル編集モーダル修正: タブとボタンの状態不一致を修正
- モーダル状態管理改善: showModal 後のボタン表示制御を改善し UI の整合性を向上
- バグ修正: 差し替えタブに切替後にモーダル再開時、ボタン表示が正しくない問題を解決

## Ver.3.1.0 の重要な変更

- 削除キー必須化: 新規ファイルアップロード時に削除キーの設定が必須に
- パスワード強度チェック: 弱いパスワード（6 文字未満、よく使われるパスワード）を自動拒否
- セキュリティ強化: AES-GCM 暗号化方式をデフォルト化（旧方式との互換性あり）

## Ver.3.0.0 の主要変更

- 一括操作機能: ファイルの一括選択・削除機能を追加
- セキュリティ統一: 全 API で一貫したセキュリティレベルを適用
- 共有リンク改善: DL キー未設定ファイルの共有リンク生成に対応

## Ver.2.0.0 の破壊的変更

Ver.2.0 は DB の仕様を刷新したため、Ver.1.x 系との互換性がありません。

### 設定変更

- 一貫性のため一部設定キーが名称変更
- 高度な機能のための新しい必須設定オプション
- データベーススキーマ更新（自動マイグレーション提供）

### API 変更

- 新しい RESTful API エンドポイント（後方互換性あり）
- 追加メタデータを含む強化されたレスポンス形式
- 改善されたエラーレスポンス構造


